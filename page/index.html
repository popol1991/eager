<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <title>Eager | Scientific Data Explorer </title>
    <link rel='stylesheet' href='css/reset.css'>
    <link rel='stylesheet' href='css/calaca.css'>
    <!--[if IE]>
        <script src='http://html5shiv.googlecode.com/svn/trunk/html5.js'></script>
    <![endif]-->
</head>

<body ng-app='calaca' ng-controller='calacaCtrl'>

<!-- Title and search box -->
<header class="jumbotron">
  <h1 class="title">EAGER</h1>
  <div class="search-box-container">
    <form>
        <select class="search-select" ng-model='type' ng-options="t for t in doctypelist">
        </select>
        <input type='text' class="search-box" placeholder="Keywords" autofocus ng-model='query'>
        <input type="submit" class="search-button" value="Search" ng-click="search()">
    </form>
  </div>
</header>

<!-- Listing of search results -->
<main class="results-container">
  <section class='results'>
    <p class='no-results' ng-hide='results.length'>No Results</p>
    <article class='result' ng-cloak ng-repeat='result in results track by $index'>
      <h2>{{result.caption}}</h2>
      <h3>From: {{result['article-title']}}</h3>
      <p>{{result.journal}}, {{result.issn}}, {{result.volume}}, {{result.issue}}, {{result.page}}, {{result.date}}</p>
      <p ng-hide='result.authors.length<=0'>
          <b>Authors: </b>
          <span ng-repeat='author in result.authors track by $index'>{{author}}, </span>
      </p>
      <p ng-hide='result.keywords.length<=0'>
          <b>Keywords: </b>
          <span ng-repeat='keyword in result.keywords track by $index'>{{keyword}}, </span>
      </p>
      <br>
      <table>
          <thead>
          <tr class='header_row' ng-cloak ng_repeat='header_row in result.header_rows track by $index'>
              <th class="header" ng-cloak ng_repeat='header in header_row track by $index'>
                  {{header}}
              </th>
          </tr>
          </thead>
          <tbody>
          <tr class='data_row' ng-cloak ng_repeat='data_row in result.data_rows track by $index'>
              <td class="value" ng-cloak ng_repeat='value in data_row track by $index'>
                  {{value}}
              </td>
          </tr>
          </tbody>
      </table>
      <br>
      <p ng-repeat='citation in result.citations track by $index'>{{citation}}<br><br></p>
    </article>
  </section>
</main>

<!-- Load resources -->
<script src='bower_components/angular/angular.js' type='text/javascript'></script>
<script src='bower_components/elasticsearch/elasticsearch.angular.js' type='text/javascript'></script>
<script src='js/calaca.js' type='text/javascript'></script>
</body>
</html>
